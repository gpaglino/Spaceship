[gd_scene load_steps=30 format=3 uid="uid://bwthg7yr3r120"]

[ext_resource type="Script" path="res://Nivel-3/escenas/nivel_3.gd" id="1_vnms6"]
[ext_resource type="PackedScene" uid="uid://cj51vdn3afk37" path="res://Nivel-1/escenas/Nave.tscn" id="1_x5bdu"]
[ext_resource type="Shader" path="res://Nivel-2/scripts/nivel_2.gdshader" id="2_4mpae"]
[ext_resource type="Texture2D" uid="uid://dchxa7ccoktn4" path="res://Nivel-1/assets/imagenes/fondoespacio2.png" id="3_5yuid"]
[ext_resource type="PackedScene" uid="uid://lj2epfum3qsi" path="res://Nivel-1/escenas/Balas.tscn" id="3_bsbac"]
[ext_resource type="PackedScene" uid="uid://dfwhymo4f0t8s" path="res://Nivel-1/escenas/Meteorito.tscn" id="3_hj8el"]
[ext_resource type="Texture2D" uid="uid://c7kpq5lebdah2" path="res://Nivel-3/assets/imagenes/JEFESINFONDO.png" id="6_he2k5"]
[ext_resource type="Script" path="res://Nivel-3/scripts/jefe_final.gd" id="7_shoun"]
[ext_resource type="PackedScene" uid="uid://o06ha7ysl7lv" path="res://Nivel-1/escenas/GameOver.tscn" id="8_5peu6"]
[ext_resource type="VideoStream" path="res://Nivel-3/assets/imagenes/CINEMTICAVICTORIA.ogv" id="9_mtub7"]
[ext_resource type="PackedScene" uid="uid://dovf44gpix5p1" path="res://Nivel-3/escenas/CinematicaNivel3.tscn" id="10_2brpw"]
[ext_resource type="PackedScene" uid="uid://ddnuhqyjb0a6m" path="res://Nivel-1/escenas/Explosion.tscn" id="12_utxhc"]
[ext_resource type="PackedScene" uid="uid://bdevc1gbmhucw" path="res://Nivel-1/escenas/pausa.tscn" id="13_6xca6"]
[ext_resource type="Script" path="res://Nivel-3/scripts/pausa.gd" id="14_cvf8s"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_o40m4"]
shader = ExtResource("2_4mpae")
shader_parameter/scroll_speed = 0.4

[sub_resource type="CircleShape2D" id="CircleShape2D_aoisi"]
radius = 112.614

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_ghi1x"]
load_path = "res://.godot/imported/explosions_sprite.png-1f544245d4716d5ea273ed8c50a6f599.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_a20hq"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(0, 0, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_12cm6"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(160, 0, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_8471x"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(320, 0, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_2qwhn"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(0, 160, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_s10vd"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(160, 160, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_ahfat"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(320, 160, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_aowqr"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(0, 320, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_3rlmn"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(160, 320, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_t526b"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(320, 320, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_r24en"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(0, 480, 160, 160)

[sub_resource type="AtlasTexture" id="AtlasTexture_gr2ot"]
atlas = SubResource("CompressedTexture2D_ghi1x")
region = Rect2(160, 480, 160, 160)

[sub_resource type="SpriteFrames" id="SpriteFrames_1rtor"]
resource_local_to_scene = true
resource_name = "explosion"
animations = [{
"frames": [{
"duration": 0.8,
"texture": SubResource("AtlasTexture_a20hq")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_12cm6")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_8471x")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_2qwhn")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_s10vd")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_ahfat")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_aowqr")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_3rlmn")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_t526b")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_r24en")
}, {
"duration": 0.8,
"texture": SubResource("AtlasTexture_gr2ot")
}],
"loop": false,
"name": &"explosion",
"speed": 10.0
}]

[node name="Nivel-3" type="Node2D"]
position = Vector2(0, 2)
script = ExtResource("1_vnms6")
metadata/_edit_group_ = true

[node name="BarraDeVida" type="ProgressBar" parent="."]
offset_left = 9.0
offset_top = 14.0
offset_right = 257.0
offset_bottom = 41.0
theme_override_colors/font_color = Color(0.87451, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0.734029, 0.460629, 0.563873, 0.427451)

[node name="SpawnMeteoro" type="Timer" parent="."]
wait_time = 3.006
autostart = true

[node name="Nave" parent="." instance=ExtResource("1_x5bdu")]

[node name="Balas" parent="." groups=["Bala"] instance=ExtResource("3_bsbac")]
visible = false

[node name="Meteorito" parent="." instance=ExtResource("3_hj8el")]
visible = false
position = Vector2(202, 214)

[node name="EscenarioEstrellas" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="EscenarioEstrellas"]
motion_mirroring = Vector2(0, 648)

[node name="Sprite2D" type="Sprite2D" parent="EscenarioEstrellas/ParallaxLayer"]
texture_repeat = 2
material = SubResource("ShaderMaterial_o40m4")
position = Vector2(576, 325)
scale = Vector2(0.611811, 0.676319)
texture = ExtResource("3_5yuid")

[node name="Jefe-final" type="Area2D" parent="." groups=["Jefe"]]
process_mode = 1
position = Vector2(580, 121)
script = ExtResource("7_shoun")

[node name="Sprite2D" type="Sprite2D" parent="Jefe-final"]
position = Vector2(-28.75, 35)
scale = Vector2(0.244629, 0.251953)
texture = ExtResource("6_he2k5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Jefe-final"]
position = Vector2(-25, 32)
shape = SubResource("CircleShape2D_aoisi")

[node name="CinematicaFinalVictoria" type="VideoStreamPlayer" parent="."]
offset_left = -1.0
offset_top = -6.0
offset_right = 1157.0
offset_bottom = 660.0
stream = ExtResource("9_mtub7")
volume_db = -20.0

[node name="GameOver" parent="." instance=ExtResource("8_5peu6")]
visible = false

[node name="CinematicaNivel3" parent="." instance=ExtResource("10_2brpw")]
position = Vector2(-1, 0)

[node name="Explosion" parent="." instance=ExtResource("12_utxhc")]
visible = false
position = Vector2(560, 167)
scale = Vector2(1.7, 1.7)
sprite_frames = SubResource("SpriteFrames_1rtor")

[node name="pausa" parent="." instance=ExtResource("13_6xca6")]
script = ExtResource("14_cvf8s")

[connection signal="timeout" from="SpawnMeteoro" to="." method="_on_spawn_meteoro_timeout"]
[connection signal="body_entered" from="Balas" to="Jefe-final" method="_on_balas_body_entered"]
[connection signal="finished" from="CinematicaFinalVictoria" to="." method="_on_cinematica_final_victoria_finished"]
